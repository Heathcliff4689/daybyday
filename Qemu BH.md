qemu事件循环可以提供4种服务：监听文件描述符，监听线程间事件，定时器，下半部（bottom half，以下简称bh）。本文主要介绍qemu事件循环中下半部的原理。

下半部向qemu内部其它模块提供一个异步延迟调的功能，下半部在一个事件循环中实现，当下半部函数（cb）注册到一个事件循环中，这个事件循环在下一次poll的时候，就会调用这个函数，实现异步延迟调用的功能。

![[photos/Pasted image 20230508151404.png]]


